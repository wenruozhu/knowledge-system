<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    // 创建一个map并返回一个函数，检查是否存在key在map里面
    function makeMap(str, expectsLowerCase) {
        // 这里为什么使用Object.create(null)不是直接{}?
        // 因为Object.create(null)是最纯净的对象，不会有任何的东西，比如constructor,hasOwnProperty等等
        // 这使得我们不管有意还是无意，都不会影响任何东西
        const map = Object.create(null)
        const list = str.split(',')
        for (let i = 0; i < list.length; i++) {
            map[list[i]] = true
        }
        // 这里为什么要用!!
        // 因为这里返回的只是true || false
        // 有内容即'true' or true返回true，null ''fasle之类的则返回false
        // return map
        return expectsLowerCase ? val => {
            console.log(val)
            return !!map[val.toLowerCase()]
        } : val => {
            console.log(val)
            return !!map[val]
        }
    }
    const isKnownHtmlAttr = /*#__PURE__*/ makeMap(
        `accept,accept-charset,accesskey,action,align,allow,alt,async,` +
        `autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,` +
        `border,buffered,capture,challenge,charset,checked,cite,class,code,` +
        `codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,` +
        `coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,` +
        `disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,` +
        `formaction,formenctype,formmethod,formnovalidate,formtarget,headers,` +
        `height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,` +
        `ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,` +
        `manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,` +
        `open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,` +
        `referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,` +
        `selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,` +
        `start,step,style,summary,tabindex,target,title,translate,type,usemap,` +
        `value,width,wrap`
    )
    console.log(isKnownHtmlAttr)
    // isKnownHtmlAttr('charset') --> true
</script>

</html>